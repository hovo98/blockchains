{"remainingRequest":"C:\\xampp\\htdocs\\cosmos\\node_modules\\thread-loader\\dist\\cjs.js!C:\\xampp\\htdocs\\cosmos\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\cosmos\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\xampp\\htdocs\\cosmos\\src\\store\\modules\\email.js","dependencies":[{"path":"C:\\xampp\\htdocs\\cosmos\\src\\store\\modules\\email.js","mtime":1644920968000},{"path":"C:\\xampp\\htdocs\\cosmos\\babel.config.js","mtime":1644920968000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import moment from \"moment\";\nvar state = {\n  active: false\n};\nvar mutations = {\n  // This mutation will toggle the active state of the email\n  // signup modal. If the modal is closed, the date of the\n  // modal dismissal is saved to revitalize at later date.\n  setEmailActive: function setEmailActive(state, active) {\n    state.active = active;\n\n    if (!active) {\n      localStorage.setItem(\"emailDismissed\", new Date());\n    }\n  }\n};\nvar actions = {\n  // This action will revitalize the email signup modal if\n  // $unitCount $unit have passed since the user dimissed the modal,\n  // or if the new user has never dimissed the modal before\n  initializeEmail: function initializeEmail(_ref) {\n    var commit = _ref.commit;\n    var unitCount = 7;\n    var unit = \"day\";\n    var dateToday = new Date();\n    var dateDismissed = localStorage.getItem(\"emailDismissed\");\n    var dateDiff = moment(dateToday).diff(dateDismissed, unit);\n\n    if (!dateDismissed || dateDiff >= unitCount) {\n      commit(\"setEmailActive\", true);\n    }\n  }\n};\nexport default {\n  state: state,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["C:/xampp/htdocs/cosmos/src/store/modules/email.js"],"names":["moment","state","active","mutations","setEmailActive","localStorage","setItem","Date","actions","initializeEmail","commit","unitCount","unit","dateToday","dateDismissed","getItem","dateDiff","diff"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,MAAM,EAAE;AADI,CAAd;AAIA,IAAMC,SAAS,GAAG;AAChB;AACA;AACA;AACAC,EAAAA,cAJgB,0BAIDH,KAJC,EAIMC,MAJN,EAIc;AAC5BD,IAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;;AACA,QAAI,CAACA,MAAL,EAAa;AACXG,MAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuC,IAAIC,IAAJ,EAAvC;AACD;AACF;AATe,CAAlB;AAYA,IAAMC,OAAO,GAAG;AACd;AACA;AACA;AACAC,EAAAA,eAJc,iCAIc;AAAA,QAAVC,MAAU,QAAVA,MAAU;AAC1B,QAAIC,SAAS,GAAG,CAAhB;AACA,QAAIC,IAAI,GAAG,KAAX;AACA,QAAIC,SAAS,GAAG,IAAIN,IAAJ,EAAhB;AACA,QAAIO,aAAa,GAAGT,YAAY,CAACU,OAAb,CAAqB,gBAArB,CAApB;AACA,QAAIC,QAAQ,GAAGhB,MAAM,CAACa,SAAD,CAAN,CAAkBI,IAAlB,CAAuBH,aAAvB,EAAsCF,IAAtC,CAAf;;AAEA,QAAI,CAACE,aAAD,IAAkBE,QAAQ,IAAIL,SAAlC,EAA6C;AAC3CD,MAAAA,MAAM,CAAC,gBAAD,EAAmB,IAAnB,CAAN;AACD;AACF;AAda,CAAhB;AAiBA,eAAe;AACbT,EAAAA,KAAK,EAALA,KADa;AAEbE,EAAAA,SAAS,EAATA,SAFa;AAGbK,EAAAA,OAAO,EAAPA;AAHa,CAAf","sourcesContent":["import moment from \"moment\"\n\nconst state = {\n  active: false\n}\n\nconst mutations = {\n  // This mutation will toggle the active state of the email\n  // signup modal. If the modal is closed, the date of the\n  // modal dismissal is saved to revitalize at later date.\n  setEmailActive(state, active) {\n    state.active = active\n    if (!active) {\n      localStorage.setItem(\"emailDismissed\", new Date())\n    }\n  }\n}\n\nconst actions = {\n  // This action will revitalize the email signup modal if\n  // $unitCount $unit have passed since the user dimissed the modal,\n  // or if the new user has never dimissed the modal before\n  initializeEmail({ commit }) {\n    let unitCount = 7\n    let unit = \"day\"\n    let dateToday = new Date()\n    let dateDismissed = localStorage.getItem(\"emailDismissed\")\n    let dateDiff = moment(dateToday).diff(dateDismissed, unit)\n\n    if (!dateDismissed || dateDiff >= unitCount) {\n      commit(\"setEmailActive\", true)\n    }\n  }\n}\n\nexport default {\n  state,\n  mutations,\n  actions\n}\n"]}]}