{"remainingRequest":"C:\\xampp\\htdocs\\cosmos\\node_modules\\thread-loader\\dist\\cjs.js!C:\\xampp\\htdocs\\cosmos\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\cosmos\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\cosmos\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\cosmos\\node_modules\\@cosmos-ui\\vue\\src\\SectionSearch\\SectionSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\@cosmos-ui\\vue\\src\\SectionSearch\\SectionSearch.vue","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\cosmos\\babel.config.js","mtime":1644920968000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\cosmos\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/cosmos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-integer\";\nimport _defineProperty from \"C:/xampp/htdocs/cosmos/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Fuse from \"fuse.js\";\nimport MarkdownIt from \"markdown-it\";\nimport hotkeys from \"hotkeys-js\";\nimport SectionShortcuts from \"./SectionShortcuts.vue\";\nimport SectionResultsEmpty from \"./SectionResultsEmpty.vue\";\nimport SectionInput from \"./SectionInput.vue\";\nimport SectionResultsList from \"./SectionResultsList.vue\";\nimport algoliasearch from \"algoliasearch\";\n\nvar algoliaInit = function algoliaInit(config) {\n  if (config && config.id && config.key && config.index) {\n    var algoliaClient = algoliasearch(config.id, config.key);\n    var algolia = algoliaClient.initIndex(config.index);\n    return algolia;\n  } else {\n    return false;\n  }\n};\n\nvar fuseInit = function fuseInit(site) {\n  return new Fuse(site.pages.map(function (doc) {\n    return {\n      key: doc.key,\n      title: doc.title,\n      headers: doc.headers && doc.headers.map(function (h) {\n        return h.title;\n      }).join(\" \"),\n      description: doc.frontmatter.description,\n      path: doc.path\n    };\n  }).filter(function (doc) {\n    return !(Object.keys(site.locales || {}).indexOf(doc.path.split(\"/\")[1]) > -1);\n  }), {\n    keys: [\"title\", \"headers\", \"description\", \"path\"],\n    shouldSort: true,\n    includeScore: true,\n    includeMatches: true\n  });\n};\n\nvar fuseFormat = function fuseFormat(results) {\n  return results.map(function (result) {\n    return {\n      title: result.item && result.item.title && md(result.item.title),\n      desc: result.item && result.item.description && md(result.item.description),\n      id: result.item && result.item.key\n    };\n  });\n};\n\nvar algoliaFormat = function algoliaFormat(results) {\n  return results.map(function (result) {\n    var title = Object.values(result.hierarchy).filter(function (e) {\n      return e;\n    }).map(function (e) {\n      return e.replace(/^#/, \"\");\n    }).join(\" › \");\n    return {\n      title: title,\n      desc: result.content,\n      url: result.url\n    };\n  });\n};\n\nvar md = function md(string) {\n  var md = new MarkdownIt({\n    html: true,\n    linkify: true\n  });\n  return \"<div>\".concat(md.renderInline(string), \"</div>\");\n};\n\nexport default {\n  props: {\n    query: {\n      type: String\n    },\n    site: {\n      type: Object\n    },\n    algoliaConfig: {\n      type: Object\n    },\n    base: {\n      default: \"/master/\"\n    }\n  },\n  components: {\n    SectionInput: SectionInput,\n    SectionShortcuts: SectionShortcuts,\n    SectionResultsEmpty: SectionResultsEmpty,\n    SectionResultsList: SectionResultsList\n  },\n  data: function data() {\n    return {\n      results: null,\n      fuse: null,\n      algolia: null,\n      selectedIndex: null,\n      searchInFlight: null\n    };\n  },\n  watch: {\n    query: function query() {\n      this.search(this.query);\n    }\n  },\n  computed: {\n    resultsAvailable: function resultsAvailable() {\n      return this.results && this.results.length > 0;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    hotkeys(\"down\", function (e) {\n      _this.inputKeypress(e);\n\n      e.preventDefault();\n    });\n    hotkeys(\"up\", function (e) {\n      _this.inputKeypress(e);\n\n      e.preventDefault();\n    });\n    hotkeys(\"enter\", function (e) {\n      _this.inputKeypress(e);\n\n      e.preventDefault();\n    });\n    this.algolia = algoliaInit(this.algoliaConfig);\n    this.fuse = fuseInit(this.site);\n    this.search(this.query);\n  },\n  methods: {\n    querySet: function querySet(string) {\n      this.$emit(\"query\", string);\n    },\n    inputKeypress: function inputKeypress(e) {\n      if (e.key) {\n        if (e.key === \"ArrowUp\") this.selectResult(-1);\n        if (e.key === \"ArrowDown\") this.selectResult(+1);\n\n        if (e.key === \"Enter\") {\n          this.$emit(\"select\", _objectSpread({}, this.results[this.selectedIndex]));\n        }\n      }\n    },\n    selectResult: function selectResult(delta) {\n      var index = this.selectedIndex,\n          indexNew = index + delta,\n          isValidIndex = Number.isInteger(index) && index >= 0;\n\n      if (isValidIndex) {\n        this.selectedIndex = indexNew >= 0 ? indexNew : 0;\n      } else {\n        this.selectedIndex = 0;\n      }\n    },\n    search: function () {\n      var _search = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(query) {\n        var params, results;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.searchInFlight = true;\n\n                if (query) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!this.algolia) {\n                  _context.next = 12;\n                  break;\n                }\n\n                params = {\n                  hitsPerPage: 100\n                };\n                _context.next = 7;\n                return this.algolia.search(query, params);\n\n              case 7:\n                results = _context.sent.hits;\n                this.results = algoliaFormat(results);\n                this.searchInFlight = false;\n                _context.next = 13;\n                break;\n\n              case 12:\n                this.results = fuseFormat(this.fuse.search(query));\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function search(_x) {\n        return _search.apply(this, arguments);\n      }\n\n      return search;\n    }()\n  }\n};",{"version":3,"mappings":"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","names":["Fuse","MarkdownIt","hotkeys","SectionShortcuts","SectionResultsEmpty","SectionInput","SectionResultsList","algoliasearch","algoliaInit","config","id","key","index","algoliaClient","algolia","initIndex","fuseInit","site","pages","map","doc","title","headers","h","join","description","frontmatter","path","filter","Object","keys","locales","indexOf","split","shouldSort","includeScore","includeMatches","fuseFormat","results","result","item","md","desc","algoliaFormat","values","hierarchy","e","replace","content","url","html","linkify","renderInline","string","props","query","type","String","algoliaConfig","base","default","components","data","fuse","selectedIndex","searchInFlight","watch","search","computed","resultsAvailable","length","mounted","inputKeypress","preventDefault","methods","querySet","$emit","selectResult","delta","indexNew","isValidIndex","Number","isInteger","params","hitsPerPage","hits"],"sourceRoot":"node_modules/@cosmos-ui/vue/src/SectionSearch","sources":["C:/xampp/htdocs/cosmos/node_modules/@cosmos-ui/vue/src/SectionSearch/SectionSearch.vue"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Fuse from \"fuse.js\";\nimport MarkdownIt from \"markdown-it\";\nimport hotkeys from \"hotkeys-js\";\nimport SectionShortcuts from \"./SectionShortcuts.vue\";\nimport SectionResultsEmpty from \"./SectionResultsEmpty.vue\";\nimport SectionInput from \"./SectionInput.vue\";\nimport SectionResultsList from \"./SectionResultsList.vue\";\nimport algoliasearch from \"algoliasearch\";\n\nconst algoliaInit = config => {\n  if (config && config.id && config.key && config.index) {\n    const algoliaClient = algoliasearch(config.id, config.key);\n    const algolia = algoliaClient.initIndex(config.index);\n    return algolia;\n  } else {\n    return false;\n  }\n};\n\nconst fuseInit = site => {\n  return new Fuse(\n    site.pages\n      .map(doc => {\n        return {\n          key: doc.key,\n          title: doc.title,\n          headers: doc.headers && doc.headers.map(h => h.title).join(\" \"),\n          description: doc.frontmatter.description,\n          path: doc.path\n        };\n      })\n      .filter(doc => {\n        return !(\n          Object.keys(site.locales || {}).indexOf(doc.path.split(\"/\")[1]) > -1\n        );\n      }),\n    {\n      keys: [\"title\", \"headers\", \"description\", \"path\"],\n      shouldSort: true,\n      includeScore: true,\n      includeMatches: true\n    }\n  );\n};\n\nconst fuseFormat = results => {\n  return results.map(result => {\n    return {\n      title: result.item && result.item.title && md(result.item.title),\n      desc:\n        result.item && result.item.description && md(result.item.description),\n      id: result.item && result.item.key\n    };\n  });\n};\n\nconst algoliaFormat = results => {\n  return results.map(result => {\n    const title = Object.values(result.hierarchy)\n      .filter(e => e)\n      .map(e => e.replace(/^#/, \"\"))\n      .join(\" › \");\n    return {\n      title,\n      desc: result.content,\n      url: result.url\n    };\n  });\n};\n\nconst md = string => {\n  const md = new MarkdownIt({ html: true, linkify: true });\n  return `<div>${md.renderInline(string)}</div>`;\n};\n\nexport default {\n  props: {\n    query: {\n      type: String\n    },\n    site: {\n      type: Object\n    },\n    algoliaConfig: {\n      type: Object\n    },\n    base: {\n      default: \"/master/\"\n    }\n  },\n  components: {\n    SectionInput,\n    SectionShortcuts,\n    SectionResultsEmpty,\n    SectionResultsList\n  },\n  data: function() {\n    return {\n      results: null,\n      fuse: null,\n      algolia: null,\n      selectedIndex: null,\n      searchInFlight: null\n    };\n  },\n  watch: {\n    query() {\n      this.search(this.query);\n    }\n  },\n  computed: {\n    resultsAvailable() {\n      return this.results && this.results.length > 0;\n    }\n  },\n  mounted() {\n    hotkeys(\"down\", e => {\n      this.inputKeypress(e);\n      e.preventDefault();\n    });\n    hotkeys(\"up\", e => {\n      this.inputKeypress(e);\n      e.preventDefault();\n    });\n    hotkeys(\"enter\", e => {\n      this.inputKeypress(e);\n      e.preventDefault();\n    });\n    this.algolia = algoliaInit(this.algoliaConfig);\n    this.fuse = fuseInit(this.site);\n    this.search(this.query);\n  },\n  methods: {\n    querySet(string) {\n      this.$emit(\"query\", string);\n    },\n    inputKeypress(e) {\n      if (e.key) {\n        if (e.key === \"ArrowUp\") this.selectResult(-1);\n        if (e.key === \"ArrowDown\") this.selectResult(+1);\n        if (e.key === \"Enter\") {\n          this.$emit(\"select\", { ...this.results[this.selectedIndex] });\n        }\n      }\n    },\n    selectResult(delta) {\n      const index = this.selectedIndex,\n        indexNew = index + delta,\n        isValidIndex = Number.isInteger(index) && index >= 0;\n      if (isValidIndex) {\n        this.selectedIndex = indexNew >= 0 ? indexNew : 0;\n      } else {\n        this.selectedIndex = 0;\n      }\n    },\n    async search(query) {\n      this.searchInFlight = true;\n      if (!query) return;\n      if (this.algolia) {\n        const params = { hitsPerPage: 100 };\n        const results = (await this.algolia.search(query, params)).hits;\n        this.results = algoliaFormat(results);\n        this.searchInFlight = false;\n      } else {\n        this.results = fuseFormat(this.fuse.search(query));\n      }\n    }\n  }\n};\n"]}]}